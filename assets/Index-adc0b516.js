import{A as ie,f as Le,R as ke,D as ce}from"./@dataview-64b4a97b.js";import"./classnames-e8ccfb6c.js";import"./@jiaminghi-ceb7225a.js";import{d as Fe}from"./pinia-ea4bbe9a.js";import{_ as Me}from"./vue-countup-v3-0e634110.js";import{b as O,r as p,k as N,u as f,y as M,o as ae,a as X,d as x,C as g,D as w,F as i,c as v,M as D,N as z,O as ze,w as I,v as b,n as fe,j as Ne,K as j,P as R,J as he,Q as ve,R as ue,S as ge,T as ye,E as je,U as Z,V as Ae}from"./@vue-df245e2a.js";import{u as Ee}from"./@vueuse-58b96580.js";import{_ as k,c as ne,r as be}from"./index-0b7051f2.js";import{U as Oe}from"./vue-types-06265bf7.js";import{u as Ie,i as Re,a as Ue,b as Pe,c as Be,d as We,e as Ye,f as He,g as Ve,h as qe,j as Ge,k as Je,l as Ke,m as Qe,n as Ze,o as Xe,p as et,q as tt,r as J}from"./echarts-909ee9de.js";import{a as ot}from"./axios-82afda87.js";import{q as at}from"./qs-bff93799.js";import{J as oe}from"./china_geo.json-486ded62.js";import{V as nt}from"./vue3-seamless-scroll-5bae5402.js";import{A as st,E as rt,S as lt,a as it}from"./swiper-164b78d8.js";import"./lodash-es-d501d8a3.js";import"./@babel-18f3e44a.js";import"./vue-demi-71ba0ef2.js";import"./vue-router-33127457.js";import"./vite-plugin-mock-6a1e592d.js";import"./mockjs-5cb968cc.js";import"./path-to-regexp-31db6522.js";import"./is-plain-object-24dec1b5.js";import"./zrender-44d86886.js";import"./tslib-54e39b60.js";import"./side-channel-3b7991b2.js";import"./get-intrinsic-bd2830fd.js";import"./has-symbols-e8f3ca0e.js";import"./has-proto-f7d0b240.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./call-bind-e5c1c8b0.js";import"./object-inspect-f58b0380.js";const ct=Fe("screen",{state:()=>({mode:"Normal"}),getters:{screenMode(){return this.mode}},actions:{setScreenMode(e){this.mode=e;const t=document.getElementsByTagName("html")[0];e==="AdptMultiDevice"?t.style.setProperty("--app-base-unit","0.01rem"):t.style.setProperty("--app-base-unit","1px")}}}),ut=Object.freeze(Object.defineProperty({__proto__:null,default:ct},Symbol.toStringTag,{value:"Module"})),de=Object.assign({"./modules/useScreenStore.ts":ut}),xe={};Object.keys(de).forEach(e=>{const t=e.replace(/^\.\/modules\/(.*)\.\w+$/,"$1");xe[t]=de[e].default});function dt(){return xe}const _t=()=>{const e=dt(),{useScreenStore:t}=e,{setScreenMode:o}=t();return{setScreenMode:o}},pt=Object.freeze(Object.defineProperty({__proto__:null,default:_t},Symbol.toStringTag,{value:"Module"}));function mt(){const e=O({delay:1e3,endVal:120500,options:{useEasing:!0,useGrouping:!0,separator:",",decimal:".",prefix:"",suffix:""}});p(null);const t=p({...e});return{CountUp:Me,countUpOption:t}}const ft=Object.freeze(Object.defineProperty({__proto__:null,default:mt},Symbol.toStringTag,{value:"Module"}));let C={gregorianYear:null,gregorianMonth:null,gregorianDay:null,weekday:null,hours:null,minutes:null,seconds:null,lunarYear:null,lunarMonth:null,lunarDay:null,lunarYearCn:"",lunarMonthCn:"",lunarDayCn:"",zodiacYear:"",solarTerm:"",gregorianFestival:"",lunarFestival:""},ee=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42448,83315,21200,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46496,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,21952,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19415,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448],ht=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],vt=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],gt=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],yt=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"];function bt(e){return vt[e%10]+gt[e%12]}function xt(e){let t,o=348;for(t=32768;t>8;t>>=1)o+=ee[e-1900]&t?1:0;return o+Se(e)}function Se(e){return Ce(e)?ee[e-1900]&65536?30:29:0}function Ce(e){return ee[e-1900]&15}function St(e,t){return ee[e-1900]&65536>>t?30:29}function Ct(e){let t,o=0,s=new Date(1900,0,31),n=Math.floor((e-s)/864e5),r=n+40,l=14;for(t=1900;t<2050&&n>0;t++)o=xt(t),n-=o,l+=12;n<0&&(n+=o,t--,l-=12);let a=t,c=t-1864,_=Ce(t),u=!1;for(t=1;t<13&&n>0;t++)_>0&&t===_+1&&u===!1?(--t,u=!0,o=Se(a)):o=St(a,t),u===!0&&t===_+1&&(u=!1),n-=o,u===!1&&l++;n===0&&_>0&&t===_+1&&(u?u=!1:(u=!0,--t,--l)),n<0&&(n+=o,--t,--l);let m=t,d=n+1;return{year:a,month:m,day:d,isLeap:u,leap:_,yearCyl:c,dayCyl:r,monCyl:l}}function _e(e,t){let o=["日","一","二","三","四","五","六","七","八","九","十"],s=["初","十","廿","卅",""],n,r;switch(e==10?n="十":e==11?n="冬":e==12?n="腊":(n=o[e],e==1&&(n="正")),n+="月",t){case 10:r="初十";break;case 20:r="二十";break;case 30:r="三十";break;default:r=s[Math.floor(t/10)]+o[t%10]}return{lunarMonthCn:n,lunarDayCn:r}}function wt(e,t,o){let s=[0,21208,42467,63836,85337,107014,128867,150921,173149,195551,218072,240693,263343,285989,308563,331033,353350,375494,397447,419210,440795,462224,483532,504758],n=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],r="",l=new Date(315569259747e-1*(e-1900)+s[t*2+1]*6e4+Date.UTC(1900,0,6,2,5)),a=l.getUTCDate();return a===o&&(r=n[t*2+1]),l=new Date(315569259747e-1*(e-1900)+s[t*2]*6e4+Date.UTC(1900,0,6,2,5)),a=l.getUTCDate(),a===o&&(r=n[t*2]),r}const $t={data(e){let t=e||new Date,o=t.getFullYear(),s=t.getMonth(),n=t.getDate(),r=t.getFullYear(),l=t.getMonth()+1,a=t.getDate(),c=t.getHours(),_=t.getMinutes(),u=t.getSeconds();l=l.toString().padStart(2,"0"),a=a.toString().padStart(2,"0"),c=c.toString().padStart(2,"0"),_=_.toString().padStart(2,"0"),u=u.toString().padStart(2,"0"),C.gregorianYear=r,C.gregorianMonth=l,C.gregorianDay=a,C.weekday=yt[t.getDay()],C.hours=c,C.minutes=_,C.seconds=u;let m=new Date(o,s,n),d=new Ct(m);return C.lunarYear=d.year,C.lunarMonth=d.month,C.lunarDay=d.day,C.zodiacYear=ht[(d.year-4)%12],C.lunarYearCn=bt(d.year-1900+36),C.lunarMonthCn=_e(d.month,d.day).lunarMonthCn,C.lunarDayCn=_e(d.month,d.day).lunarDayCn,C.solarTerm=wt(o,s,n),C}};function Dt(){const e=p(null),t=p(null),o=p(null),s=p(null),n=p(null);return{currentTime:e,currentDate:t,currentWeek:o,currentLunarDate:s,Timer:n,getDateTimeFormat:a=>`${a.getFullYear()}-${(a.getMonth()+1).toString().padStart(2,"0")}-${a.getDate().toString().padStart(2,"0")} ${a.getHours().toString().padStart(2,"0")}`,getCurrentDateTime:()=>{const a=new Date,{lunarYearCn:c,zodiacYear:_,lunarMonthCn:u,lunarDayCn:m,weekday:d,gregorianYear:h,gregorianMonth:S,gregorianDay:$,hours:y,minutes:L,seconds:E}=$t.data(a);return e.value=`${y}:${L}:${E}`,t.value=`${h}年${S}月${$}日`,o.value=d,s.value=`${c}${_}年${u}${m}`,{lunarYearCn:c,zodiacYear:_,lunarMonthCn:u,lunarDayCn:m,weekday:d,gregorianYear:h,gregorianMonth:S,gregorianDay:$,hours:y,minutes:L,seconds:E}}}}const Tt=Object.freeze(Object.defineProperty({__proto__:null,default:Dt},Symbol.toStringTag,{value:"Module"}));function Lt(){return{toThousands:o=>{o=(o||0).toString();let s=0,n="",r="";o.indexOf(".")>0?(s=o.indexOf("."),n=o.substr(s),r=o.substring(0,s)):r=o;let l=[],a=0;r=r.split("");for(let c=r.length-1;c>=0;c--)a++,l.unshift(r[c]),!(a%3)&&c!=0&&l.unshift(",");return l.join("")+n||""},isNull:o=>o&&o!==null&&o!==void 0&&o!==""&&o!=="Null"&&o!=="null"&&o!==" "?o:"-"}}const kt=Object.freeze(Object.defineProperty({__proto__:null,default:Lt},Symbol.toStringTag,{value:"Module"}));function Ft(e){const t=N("getApiData",null),o=N("getApiLoading",!1),s=N("getContrastRatio",1);return{apiData:t,apiLoading:o,contrastRatio:s,calcFont:r=>f(s)*r}}const Mt=Object.freeze(Object.defineProperty({__proto__:null,default:Ft},Symbol.toStringTag,{value:"Module"})),pe=e=>Object.prototype.toString.call(e)==="[object Function]";function we(){return{initResizeEvent:o=>{o&&pe(o)&&window.addEventListener("resize",o)},destroyResizeEvent:o=>{o&&pe(o)&&window.removeEventListener("resize",o)}}}const zt=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"}));function Nt(e){const{initResizeEvent:t,destroyResizeEvent:o}=we(),s=O({width:1920,height:1080,ratio:1920/1080}),n=O({width:1920,height:1080}),r=O({width:1400,height:820}),l=p(1);return M("getDesign",s),M("getScreen",n),M("getContrastRatio",l),ae(()=>{e(),t(e)}),X(()=>{o(e)}),{design:s,screen:n,minScreen:r,contrastRatio:l}}const jt=Object.freeze(Object.defineProperty({__proto__:null,default:Nt},Symbol.toStringTag,{value:"Module"})),me=Object.assign({"./modules/useCommon.ts":pt,"./modules/useCountUp.ts":ft,"./modules/useDateTime.ts":Tt,"./modules/useFilter.ts":kt,"./modules/useModuleData.ts":Mt,"./modules/useResize.ts":zt,"./modules/useScreen.ts":jt}),F={};Object.keys(me).forEach(e=>{const t=e.replace(/^\.\/modules\/(.*)\.\w+$/,"$1");F[t]=me[e].default});const At={systemTitle:"设备共享平台",copyrightCompany:"xxx公司",webPort:9999};function Et(e,t){localStorage.setItem(e,t)}function Ot(e){const t=localStorage.getItem(e);return t&&t!=="null"?t:!1}function $e(e){e.forEach(t=>{t&&(clearInterval(t),clearTimeout(t)),t=null})}const It={class:"header-container"},Rt={class:"header-lf"},Ut={class:"line"},Pt={class:"header-center"},Bt={class:"title"},Wt={class:"header-rt"},Yt={class:"screen-header__right"},Ht={class:"screen-header__date"},Vt={class:"screen-header__week ml-10"},qt={class:"screen-header__time ml-10"},Gt={class:"line"},Jt={key:0,class:"icon iconfont ds-icon_fullscreen_shrink size"},Kt={key:1,class:"icon iconfont ds-fullscreen__ size"},Qt=x({__name:"index",setup(e){const{useDateTime:t}=F,{toggle:o,isFullscreen:s}=Ee(),{currentTime:n,currentDate:r,currentWeek:l,Timer:a,getDateTimeFormat:c,getCurrentDateTime:_}=t(),{systemTitle:u}=At;ae(()=>{m()}),X(()=>{$e([a.value])});const m=()=>{Et("refreshTime",c(new Date)),d(),a.value=setInterval(()=>{d()},1e3)},d=()=>{const{hours:S,minutes:$}=_();if($%30===0&&S==3){const y=Ot("refreshTime");c(new Date)!=y&&location.reload()}},h=()=>{o()};return(S,$)=>(g(),w("div",It,[i("div",Rt,[i("div",Ut,[v(f(ie),{reverse:!0})])]),i("div",Pt,[i("div",Bt,D(f(u)),1)]),i("div",Wt,[i("div",Yt,[i("span",Ht,D(f(r)),1),i("span",Vt,D(f(l)),1),i("span",qt,D(f(n)),1)]),i("div",Gt,[v(f(ie),{reverse:!0,style:{transform:"rotateY(180deg)"}})]),i("div",{class:"full-screen-btn",onClick:h},[f(s)?(g(),w("span",Jt)):(g(),w("span",Kt))])])]))}});const Zt=k(Qt,[["__scopeId","data-v-02724bca"]]),Xt={class:"global-loading"},eo={class:"global-loading__content"},to=x({__name:"index",setup(e){return(t,o)=>(g(),w("div",Xt,[i("div",eo,[v(f(Le),{style:{width:"150px",height:"150px"}},{default:z(()=>[ze("正在初始化...")]),_:1})])]))}});const oo=k(to,[["__scopeId","data-v-c808d022"]]),G=Oe({func:void 0,bool:void 0,string:void 0,number:void 0,object:void 0,integer:void 0});G.extend([{name:"style",getter:!0,type:[String,Object],default:void 0}]);Ie([Re,Ue,Pe,Be,We,Ye,He,Ve,qe,Ge,Je,Ke,Qe,Ze,Xe,et,tt]);const De=p("/"),{base_url:ao}=ne,no=ao.test;I(()=>be.currentRoute.value,e=>{De.value=e==null?void 0:e.path});const se=ot.create({baseURL:no,timeout:ne.request_timeout});se.interceptors.request.use(e=>{if(e.method==="post"&&e.headers["Content-Type"]==="application/x-www-form-urlencoded"&&(e.data=at.stringify(e.data)),e.headers.Token="C78FE78D5E9F0B3A8E4A1727012A48AC",e.method==="get"&&e.params){let t=e.url;t+="?";const o=Object.keys(e.params);for(const s of o)e.params[s]!==void 0&&e.params[s]!==null&&(t+=`${s}=${encodeURIComponent(e.params[s])}&`);t=t.substring(0,t.length-1),e.params={},e.url=t}return e},e=>{console.log(e),Promise.reject(e)});se.interceptors.response.use(async e=>{if(e.data.status==="SUCCEED")return e.data;if(e.data.errorCode==="100")De.value!=="/"&&be.push("/");else return e.config.url==="/china_geo.json"?e.data:(console.log("拦截器返回错误：",e),Promise.reject((e==null?void 0:e.data)||"response-error"))},e=>(console.log("err-----"+e),console.log(e.errorMessage||e.message),Promise.reject(e)));const{default_headers:so}=ne,Q=e=>{const{url:t,method:o,params:s,data:n,headersType:r,responseType:l}=e;return se({url:t,method:o,params:s,data:n,responseType:l,headers:{"Content-Type":r||so}})},re={get:e=>Q({method:"get",...e}),post:e=>Q({method:"post",...e}),delete:e=>Q({method:"delete",...e}),put:e=>Q({method:"put",...e})},ro=()=>re.get({url:"/mock/api/orderKanbanApi"}),lo=()=>re.get({url:"/mock/api/deviceKanbanApi"}),io=()=>re.get({url:"/mock/api/remandOrderApi"}),co=x({__name:"DefaultChart",props:{option:G.object.def({}),autoplay:G.bool.def(!1),autoplayLen:G.number.def(1),type:G.string.def("")},emits:["mapEmit"],setup(e,{emit:t}){const o=e,{useModuleData:s}=F,{calcFont:n}=s(null),r=b(()=>({top:n(25),left:"center",textStyle:{color:"#fff",fontSize:n(18)}})),l=p(),a=p(null),c=b(()=>({...f(r),...o.option.title})),_=m=>{let d=-1;setInterval(function(){var h=o.autoplayLen!==1?o.autoplayLen:o.option.series[0].data.length;m.dispatchAction({type:"downplay",seriesIndex:0,dataIndex:d}),d=(d+1)%h,m.dispatchAction({type:"highlight",seriesIndex:0,dataIndex:d}),m.dispatchAction({type:"showTip",seriesIndex:0,dataIndex:d})},2e3)},u=async()=>{a.value=Ne(J.init(l.value));const m=o.option;m.title=c.value,o.type==="map"&&(J.registerMap("china",oe),t("mapEmit",oe)),a.value.setOption(m),a.value.on("finished",()=>{}),o.autoplay&&_(a.value)};return ae(()=>{window.addEventListener("resize",()=>{console.log("屏幕大小变了"),a.value.resize()}),fe(()=>u())}),X(()=>{a.value.dispose(),window.removeEventListener("resize",a.value)}),(m,d)=>(g(),w("div",{ref_key:"chartDom",ref:l,class:"default-echart"},null,512))}});const Y=k(co,[["__scopeId","data-v-c38b7c78"]]),uo=x({__name:"CompanyDevice",setup(e){const t=p(!1),o=p([]),s=p([]),n=p([]),r=p([]),{useModuleData:l}=F,{calcFont:a}=l(null),c=N("deviceCompany",[]);I(()=>c,u=>{var m;(m=f(u))==null||m.forEach(d=>{const{deviceTypeCount:h,orgName:S,deviceCount:$,brandCount:y}=d;o.value.push(S),s.value.push($),n.value.push(y),r.value.push(h)}),t.value=!0},{deep:!0});const _=b(()=>({title:{text:"公司设备数量/品牌数量/类型数量统计图",top:0},tooltip:{show:!0,trigger:"axis",backgroundColor:"rgba(116,176,222,0.3)",extraCssText:"box-shadow: 0 0 8px rgba(0, 128, 255, 0.27) inset;",borderWidth:0,confine:!1,appendToBody:!0,axisPointer:{type:"shadow",shadowStyle:{color:"rgba(35,49,77,0.3)"}},textStyle:{color:"#fff",fontSize:a(14)}},grid:{top:56,left:5,right:5,bottom:16,containLabel:!0},legend:{show:!0,data:[{name:"设备数量",itemStyle:{color:"#4084EE"}},{name:"品牌数量",itemStyle:{color:"#FF8D28"}},{name:"类型数量",itemStyle:{color:"#6ACC29"}}],top:25,selectedMode:!1,type:"scroll",icon:"circle",itemWidth:a(16),itemHeight:a(16),textStyle:{color:"#C3E3F9",fontSize:a(14)}},xAxis:{data:o.value,type:"category",axisLine:{show:!0,lineStyle:{color:"#2B72A1"}},axisLabel:{fontSize:a(12),color:"#87CCFF"},splitLine:{show:!1},axisTick:{show:!1},interval:0},yAxis:[{type:"value",name:"单位",nameGap:24,nameTextStyle:{align:"center",fontSize:a(16),color:"#2869A9"},splitNumber:4,splitLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.1)"}},axisLine:{show:!1},axisLabel:{margin:10,fontSize:a(16),color:"#2869A9"},axisTick:{show:!0,lineStyle:{color:"#2869A9"}}}],series:[{data:s.value,type:"bar",name:"设备数量",barGap:"20%",barWidth:a(26),label:{show:!0,position:"top",distance:4.8,textStyle:{color:"#4084EE",fontSize:a(16)}},showBackground:!0,backgroundStyle:{color:{x:0,y:1,x2:0,y2:0,type:"linear",global:!1,colorStops:[{offset:0,color:"rgba(64,132,238,0.2)"},{offset:1,color:"rgba(64,132,238,1)"}]},opacity:.1},itemStyle:{color:{x:0,y:1,x2:0,y2:0,type:"linear",global:!1,colorStops:[{offset:0,color:"rgba(64,132,238,0.2)"},{offset:1,color:"rgba(64,132,238,1)"}]}}},{data:n.value,type:"bar",name:"品牌数量",barGap:"20%",barWidth:a(26),barMaxWidth:a(48),label:{show:!0,position:"top",distance:4.8,textStyle:{color:"#FF8D28",fontSize:a(16)}},showBackground:!0,backgroundStyle:{color:{x:0,y:1,x2:0,y2:0,type:"linear",global:!1,colorStops:[{offset:0,color:"rgba(255,141,40,0.2)"},{offset:1,color:"rgba(255,141,40,1)"}]},opacity:.1},itemStyle:{color:{x:0,y:1,x2:0,y2:0,type:"linear",global:!1,colorStops:[{offset:0,color:"rgba(255,141,40,0.2)"},{offset:1,color:"rgba(255,141,40,1)"}]}}},{data:r.value,type:"bar",name:"类型数量",barGap:"20%",barWidth:a(26),label:{show:!0,position:"top",distance:4.8,textStyle:{color:"#6ACC29",fontSize:a(16)}},showBackground:!0,backgroundStyle:{color:{x:0,y:1,x2:0,y2:0,type:"linear",global:!1,colorStops:[{offset:0,color:"rgba(106,204,41,0.2)"},{offset:1,color:"rgba(106,204,41,1)"}]},opacity:.1},itemStyle:{color:{x:0,y:1,x2:0,y2:0,type:"linear",global:!1,colorStops:[{offset:0,color:"rgba(106,204,41,0.2)"},{offset:1,color:"rgba(106,204,41,1)"}]}}}]}));return(u,m)=>t.value?(g(),j(Y,{key:0,option:_.value,autoplay:!0,autoplayLen:o.value.length},null,8,["option","autoplayLen"])):R("",!0)}}),_o={status:"SUCCEED",data:[{deviceTypeCount:"1240",orgName:"第一工程分公司",deviceCount:"1542",brandCount:"1000"},{deviceTypeCount:"32",orgName:"华北工程建设公司",deviceCount:"949",brandCount:"4"},{deviceTypeCount:"6",orgName:"中东地区公司",deviceCount:"681",brandCount:"1"},{deviceTypeCount:"19",orgName:"海外",deviceCount:"623",brandCount:"1"},{deviceTypeCount:"3",orgName:"海湾地区公司",deviceCount:"622",brandCount:"1"}]},po=x({__name:"ChartFour",setup(e){const t=p(!1),o=p([]),s=p([]),n=p([]),r=p([]),{useModuleData:l}=F,{calcFont:a,contrastRatio:c}=l(null),_=p({}),u=p([]),m=p([]),d=p([]),h=p([]);_.value=N("orderComplete"),I(()=>_.value,()=>{const y=f(_.value);console.log("orderComplete.value",y),y.forEach(L=>{const{completed:E,success:H,toBeContinued:V,yearMonth:U}=L;u.value.push(E),m.value.push(V),d.value.push(H),h.value.push(U)}),console.log("completeData.value",u.value),t.value=!0},{deep:!0}),(async()=>{try{const y=_o;y==null||y.data.forEach(L=>{const{deviceTypeCount:E,orgName:H,deviceCount:V,brandCount:U}=L;o.value.push(H),s.value.push(V),n.value.push(U),r.value.push(E)})}catch{}})();const $=b(()=>({title:{text:"过去半年订单完成率",top:0},tooltip:{trigger:"axis",axisPointer:{type:"none",label:{show:!1}},textStyle:{fontSize:a(14)}},grid:{left:"10%",top:"20%",right:"10%",bottom:"12%"},legend:{padding:[0,a(100)],data:[{name:"未完成",icon:"circle",textStyle:{color:"#ffffff",fontSize:a(14)}},{name:"已完成",icon:"circle",textStyle:{color:"#ffffff",fontSize:a(14)}},{name:"成功率",icon:"circle",textStyle:{color:"#ffffff",fontSize:a(14)}}],top:"10%",textStyle:{color:"#1FC3CE",fontSize:a(16)}},xAxis:{data:h.value,axisLine:{show:!1},axisTick:{show:!1,alignWithLabel:!0},axisLabel:{show:!0,textStyle:{color:"#0b78d5",fontSize:a(12)},interval:0}},yAxis:[{type:"value",name:"单位：%",max:100,splitNumber:8,nameTextStyle:{color:"#0b78d5",fontSize:a(20)},splitLine:{show:!0,lineStyle:{color:"rgba(21, 78, 129, 0.5 )",type:"solid"}},axisTick:{show:!1},axisLine:{show:!1},axisLabel:{show:!0,textStyle:{color:"#0b78d5",fontSize:a(20)}}},{type:"value",name:"单位：件",max:100,splitNumber:8,nameTextStyle:{color:"#0b78d5",fontSize:a(20)},splitLine:{show:!0,lineStyle:{color:"rgba(92, 229, 192, 0.2)",type:"solid"}},axisLabel:{show:!0,textStyle:{color:"#0b78d5",fontSize:a(20)}},axisLine:{show:!1},axisTick:{show:!1}}],series:[{name:"已完成",type:"bar",barWidth:a(24),itemStyle:{normal:{color:new J.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(60, 211, 158, 1)"},{offset:1,color:"rgba(60, 211, 158, 0.1)"}])}},data:u.value,label:{show:!0,position:"top",distance:5,fontSize:a(20),color:"#FFFFFF"}},{name:"未完成",type:"bar",barWidth:a(24),itemStyle:{normal:{color:new J.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(218, 227, 108, 1)"},{offset:1,color:"rgba(218, 227, 108, 0.1)"}])}},data:m.value,label:{show:!0,position:"top",distance:5,fontSize:a(20),color:"#FFFFFF"}},{name:"成功率",type:"line",smooth:!0,yAxisIndex:1,showAllSymbol:!0,symbol:"circle",symbolSize:8,itemStyle:{color:"rgba(88, 222, 196, 1)"},lineStyle:{color:"rgba(55, 168, 192, 1)",width:a(5),shadowBlur:2},areaStyle:{normal:{color:new J.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(92, 106, 142, 0.4)"},{offset:1,color:"rgba(92, 106, 142, 0.4)"}],!1)}},data:d.value}]}));return(y,L)=>t.value?(g(),j(Y,{key:0,option:$.value,autoplay:!0,autoplayLen:8},null,8,["option"])):R("",!0)}}),mo=x({__name:"ChartThree",setup(e){const t=p(!1),{useModuleData:o}=F,{calcFont:s}=o(null),n=p([]),r={first:"设备数",second:"金额"},l=p([]),a=p([]);n.value=N("projectList",[]),I(()=>n.value,()=>{f(n.value).forEach((u,m)=>{const{projectName:d,deviceNum:h,ratio:S,totalAmount:$}=u,y={data:[h,$],value:[m===0?100:0,m===1?100:0,m===2?100:0,m===3?100:0,m===4?100:0],name:d},L={name:`${d}$${S}%$${S}%`};a.value.push(L),l.value.push(y)}),t.value=!0},{deep:!0});const c=b(()=>({title:{top:"auto",text:"项目统计图",left:"5%",textStyle:{fontSize:s(14),color:"#fff"}},legend:{show:!0,right:"3%",icon:"circle",data:[{name:r.first},{name:r.second}],textStyle:{color:"#C3E3F9",fontSize:s(14)},selectedMode:!1},tooltip:{show:!0},color:["rgba(71, 141, 255, 0.83)","rgba(31, 217, 208, 0.83)"],radar:[{shape:"circle",radius:"45%",center:["50%","50%"],indicator:a.value,splitArea:{areaStyle:{color:["#598EFF","#88aefa","#bad5fe","#e2ecff","#fff"]}},splitLine:{lineStyle:{color:"#969696",type:"dotted",width:2}},axisLine:{lineStyle:{color:"#9EC3FF"}},axisName:{show:!0,rich:{a:{fontSize:s(16),lineHeight:s(25)},b:{fontSize:s(16),lineHeight:s(25)},c:{fontSize:s(16),color:"#478DFF",lineHeight:s(25)},d:{fontSize:s(16),color:"#1FD9D1",lineHeight:s(25)},e:{fontSize:s(16),lineHeight:s(25)}},formatter:_=>{let u=_?_.split("$"):["","",""];return`{a| ${u[0]}}
{c|●}{b| ${u[1]}}
{d|●}{e| ${u[2]}}`},color:"#fff"}},{shape:"circle",center:["50%","50%"],radius:"45%",indicator:a.value,axisLine:{lineStyle:{color:"transparent"}}}],series:[{name:"显示图形",type:"radar",radarIndex:0,tooltip:{show:!1},areaStyle:{opacity:.95},itemStyle:{borderColor:"#fff",borderWidth:1},label:{show:!1,color:"#fff"},data:[{value:["23.42","30.94","10.68","22.12","12.83"],name:r.first},{value:["48.57","13.31","3.14","14.07","20.92"],name:r.second}]},{name:"显示提示",type:"radar",symbol:"none",lineStyle:{color:"transparent"},radarIndex:1,zlevel:2,tooltip:{show:!0,formatter:_=>{let{data:u}=_.data;return`${_.name}<br />${r.first}： ${u[0]}个<br />${r.second}： ${u[1]}元<br/>`}},data:l.value}]}));return(_,u)=>t.value?(g(),j(Y,{key:0,option:c.value,autoplay:!0,autoplayLen:5},null,8,["option"])):R("",!0)}}),fo=e=>(ge("data-v-ddb2ea69"),e=e(),ye(),e),ho={class:"project-scroll"},vo={class:"project-list-item__name ellipsis"},go={class:"statistics-card"},yo={class:"statistics-card__num font-16"},bo=fo(()=>i("span",{class:"statistics-card__text mt-5"},"订单数",-1)),xo=x({__name:"OrderCarousel",setup(e){const{useFilter:t}=F,{toThousands:o}=t(),s=p({});s.value=N("orderCarousel",[]);const n=({type:l})=>{let a="project-list-item__icon";switch(l){case"web":a+=" web";break;case"design":a+=" design";break;case"app":a+=" app";break;case"project":a+=" project";break;default:a+=" web"}return a},r=({type:l})=>{let a="iconfont";switch(l){case"web":a+=" icon-webduan";break;case"design":a+=" icon-shejimeigong";break;case"app":a+=" icon-appyingyong";break;case"project":a+=" icon-app";break}return a};return(l,a)=>(g(),w("div",ho,[v(f(nt),{list:s.value.value,step:.3,hover:!0,class:"project-list"},{default:z(()=>[(g(!0),w(he,null,ve(s.value.value,(c,_)=>(g(),w("div",{class:"project-list-item",key:"project-item"+_},[i("div",{class:ue(n(c))},[i("i",{class:ue(r(c))},null,2)],2),i("div",vo,D(c.organName),1),i("div",go,[i("span",yo,D(f(o)(c.orderNum)),1),bo])]))),128))]),_:1},8,["list"])]))}});const So=k(xo,[["__scopeId","data-v-ddb2ea69"]]),Co={class:"left-content"},wo={class:"left-content__item"},$o={class:"left-content__item"},Do={class:"left-content__item"},To=x({__name:"LeftContent",setup(e){return(t,o)=>(g(),w("div",Co,[i("div",wo,[v(po)]),i("div",$o,[v(So)]),i("div",Do,[v(mo)])]))}});const Lo=k(To,[["__scopeId","data-v-6e6490f9"]]),ko={class:"fade-num-container"},Fo=x({__name:"index",props:{value:{type:Number,default:0},color:{type:String,default:"#3fffe4"},duration:{type:Number,default:1e3}},emits:["update:value"],setup(e,{emit:t}){const o=e,s=p(null);I(()=>o.value,l=>{l!==0&&($e([s.value]),s.value=setTimeout(()=>{t("update:value",0)},o.duration))});const n=()=>`${o.value>0?"+":""}${o.value}`,r=l=>`-${l.toString().length*10+10}px`;return(l,a)=>(g(),w("div",ko,[je(l.$slots,"default",{},void 0,!0),v(Ae,{name:"fade"},{default:z(()=>[e.value!==0?(g(),w("span",{key:0,class:"change-num",style:Z({color:e.color,right:r(e.value)})},D(n()),5)):R("",!0)]),_:1})]))}});const te=k(Fo,[["__scopeId","data-v-e5d8fba0"]]),Mo=""+new URL("icon-cover-ef3d0d2b.png",import.meta.url).href,zo=""+new URL("icon-app-d0cf6220.png",import.meta.url).href,No=""+new URL("icon-vip-fbef5121.png",import.meta.url).href,le=e=>(ge("data-v-3b3d926e"),e=e(),ye(),e),jo={class:"count-statistic"},Ao={class:"count-item"},Eo={class:"count-item__icon"},Oo=le(()=>i("div",{class:"icon__circle animate-rotation"},null,-1)),Io=["src"],Ro={class:"count-item__content ml-20"},Uo={class:"count-item__number number"},Po={class:"number__unit"},Bo={class:"count-item__name mt-5"},Wo={class:"count-item"},Yo={class:"count-item__icon"},Ho=le(()=>i("div",{class:"icon__circle animate-rotation"},null,-1)),Vo=["src"],qo={class:"count-item__content ml-20"},Go={class:"count-item__number number"},Jo={class:"number__unit"},Ko={class:"count-item__name mt-5"},Qo={class:"count-item"},Zo={class:"count-item__icon"},Xo=le(()=>i("div",{class:"icon__circle animate-rotation"},null,-1)),ea=["src"],ta={class:"count-item__content ml-20"},oa={class:"count-item__number number"},aa={class:"number__unit"},na={class:"count-item__name mt-5"},sa=x({__name:"CountStatistic",setup(e){var _,u;const{useCountUp:t,useScreenModuleData:o}=F,{CountUp:s,countUpOption:n}=t(),r=b(()=>N("orderCount")),l=O({name:"订单总金额",img:Mo,unit:"万元",value:((_=f(r))==null?void 0:_.totalAmount)||0,valueColor:"#45f3fd",changeNum:0}),a=O({name:"累计覆盖区域",img:zo,unit:"个",value:f(r).regions||0,valueColor:"#71ffaa",changeNum:0}),c=O({name:"上月新增订单数",img:No,unit:"单",value:((u=f(r))==null?void 0:u.addNewOrder)||0,valueColor:"#ffe66d",changeNum:0});return p(),(m,d)=>(g(),j(f(ke),{style:{height:"calc(150 * var(--app-base-unit))"}},{default:z(()=>[i("div",jo,[i("div",Ao,[i("div",Eo,[Oo,i("img",{class:"icon__content",src:l.img},null,8,Io)]),i("div",Ro,[i("div",Uo,[i("span",{class:"number__value mr-5",style:Z({color:l.valueColor})},[v(te,{value:l.changeNum,"onUpdate:value":d[0]||(d[0]=h=>l.changeNum=h)},{default:z(()=>[v(f(s),{delay:f(n).delay,endVal:l.value,options:f(n)},null,8,["delay","endVal","options"])]),_:1},8,["value"])],4),i("span",Po,D(l.unit),1)]),i("div",Bo,D(l.name),1)])]),i("div",Wo,[i("div",Yo,[Ho,i("img",{class:"icon__content",src:a.img},null,8,Vo)]),i("div",qo,[i("div",Go,[i("span",{class:"number__value mr-5",style:Z({color:a.valueColor})},[v(te,{value:a.changeNum,"onUpdate:value":d[1]||(d[1]=h=>a.changeNum=h)},{default:z(()=>[v(f(s),{delay:f(n).delay,endVal:a.value,options:f(n)},null,8,["delay","endVal","options"])]),_:1},8,["value"])],4),i("span",Jo,D(a.unit),1)]),i("div",Ko,D(a.name),1)])]),i("div",Qo,[i("div",Zo,[Xo,i("img",{class:"icon__content",src:c.img},null,8,ea)]),i("div",ta,[i("div",oa,[i("span",{class:"number__value mr-5",style:Z({color:c.valueColor})},[v(te,{value:c.changeNum,"onUpdate:value":d[2]||(d[2]=h=>c.changeNum=h)},{default:z(()=>[v(f(s),{delay:f(n).delay,endVal:c.value,options:f(n)},null,8,["delay","endVal","options"])]),_:1},8,["value"])],4),i("span",aa,D(c.unit),1)]),i("div",na,D(c.name),1)])])])]),_:1}))}});const ra=k(sa,[["__scopeId","data-v-3b3d926e"]]),la=x({__name:"ChinaChart",setup(e){const t=p(!1),o=p([]),{useModuleData:s}=F;s(null),p(null);const n=N("deviceMapCount",[]);I(()=>n,c=>{var _;(_=f(c))!=null&&_.length&&l()},{deep:!0});const r=()=>{},l=()=>{var c=oe.features;console.log("unref(deviceMapCount.value)",f(n.value)),c.forEach(function(_){var d;var u=_.properties.name,m=_.properties.center.concat([40]);for(let h=0;h<((d=f(n.value))==null?void 0:d.length);h++){const S=f(n.value)[h];if(u.indexOf(S.name)!==-1){const $=S.deviceNum;o.value.push({name:u,deviceNum:$,value:m});break}}}),t.value=!0,console.log("result-mapDeviceNum",o.value)},a=b(()=>({title:{left:"left",textStyle:{color:"#fff"}},tooltip:{show:!0,trigger:"item",formatter:function(c){var u;var _='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:#0090ff"></span>';return`${_}${c.name}</br>${c.marker}设备数量：${((u=c==null?void 0:c.data)==null?void 0:u.deviceNum)||"--"}`}},geo:{map:"china",zoom:1.2,label:{emphasis:{show:!1}},roam:!1,itemStyle:{normal:{areaColor:"#142957",borderColor:"#0692a4"},emphasis:{areaColor:"#0b1c2d"}}},series:[{name:"设备所在地",type:"effectScatter",coordinateSystem:"geo",zlevel:2,rippleEffect:{brushType:"stroke"},label:{normal:{show:!0,position:"bottom",formatter:"{b}"}},itemStyle:{normal:{color:"#3ed4ff"}},data:o.value,symbolSize:function(c){return c[2]/10}}]}));return(c,_)=>t.value?(g(),j(Y,{key:0,option:a.value,autoplay:!0,autoplayLen:8,type:"map",onMapEmit:r},null,8,["option"])):R("",!0)}}),ia={class:"notie-center left"},ca={class:"item"},ua={class:"title-content text-hidden"},da={class:"item__time"},_a=x({__name:"Notice",setup(e){const t=[st,rt],o=N("remandList",[]),s=O({delay:2e3,disableOnInteraction:!1,autoplay:!0}),n=p(),r=p([]);return I(()=>o,l=>{r.value=[],fe(()=>{r.value=f(l)})},{deep:!0}),(l,a)=>(g(),w("div",ia,[r.value.length?(g(),j(f(lt),{key:0,class:"swiper-container mt-40px",modules:t,loop:!0,autoplay:s,speed:1e3,direction:"vertical",slidesPerView:3,centeredSlides:!0,ref_key:"mySwiper",ref:n},{default:z(()=>[(g(!0),w(he,null,ve(r.value,c=>(g(),j(f(it),{key:c,class:"swiper-slide"},{default:z(()=>[i("div",ca,[i("span",ua,D(c.data),1),i("span",da,D(c.time),1)])]),_:2},1024))),128))]),_:1},8,["autoplay"])):R("",!0)]))}});const pa=k(_a,[["__scopeId","data-v-776d3be6"]]),ma={class:"center-content"},fa={class:"center-content__top"},ha={class:"center-content__center"},va={class:"center-content__bottom",style:{fontsize:"30px"}},ga=x({__name:"CenterContent",setup(e){return(t,o)=>(g(),w("div",ma,[i("div",fa,[v(ra)]),i("div",ha,[v(la)]),i("div",va,[v(pa)])]))}});const ya=k(ga,[["__scopeId","data-v-da3015ec"]]),ba=x({__name:"DeviceCategory",setup(e){const{useModuleData:t}=F,{calcFont:o}=t(null),s=p([]),n=p(!1);let r="#fff",l=["#c065e7","#765deb","#3862d8","#6a89E2","#219CF9","#6efbbf","#40c057","#ffd351","#ff8e43","#f56b6d"],a=[{name:"A类",value:"3720"},{name:"B类",value:"2920"},{name:"C类",value:"2200"},{name:"D类",value:"1420"},{name:"E类",value:"3200"},{name:"F类",value:"2420"},{name:"G类",value:"2200"},{name:"H类",value:"1420"},{name:"I类",value:"3200"},{name:"J类",value:"2420"}];const c=N("deviceCategories",[]);I(()=>c,m=>{var d;m!==void 0&&(s.value=(d=f(m))==null?void 0:d.map(h=>({name:h.typeName,value:h.num}))),n.value=!0},{deep:!0});let _=function(m){let d=/(?=(\B)(\d{3})+$)/g;return m.toString().replace(d,",")};a.reduce((m,d)=>m+d.value*1,0);const u=b(()=>({color:l,tooltip:{trigger:"item"},title:{text:"设备类型统计图",top:0},series:[{type:"pie",roseType:"radius",radius:["25%","60%"],center:["50%","50%"],data:f(s),itemStyle:{normal:{borderColor:r,borderWidth:2}},labelLine:{length:o(20),length2:o(30),lineStyle:{}},label:{normal:{formatter:m=>"{icon|●}{name|"+m.name+`}
{value|`+_(m.value)+"}",rich:{icon:{fontSize:o(18),color:"inherit"},name:{fontSize:o(16),padding:[0,0,0,o(4)],color:"#fff"},value:{fontSize:o(16),fontWeight:"bolder",padding:[o(10),0,0,o(20)],color:"inherit"}}}}}]}));return(m,d)=>n.value?(g(),j(Y,{key:0,option:u.value,autoplay:!0},null,8,["option"])):R("",!0)}});function xa(e,t){return Math.floor(Math.random()*(t-e+1))+e}const Sa=x({__name:"AreaMarket",setup(e){const{useModuleData:t}=F,{calcFont:o,contrastRatio:s}=t(null);p(!1);const n=p([]);(()=>{const a=["华北中心","华南中心","东非分中心","华东中心","东北分中心"];for(var c=0;c<a.length;c++){const _=s.value*xa(50,80),u={name:a[c],value:c+5,symbolSize:_,itemStyle:{color:"rgb("+Math.round(Math.random()*255)+", "+Math.round(Math.random()*255)+", "+Math.round(Math.random()*255)+")"}};n.value.push(u)}})();const l=b(()=>({title:{top:"auto",text:"区域中心统计图",bottom:0,textStyle:{fontSize:o(18),fontWeight:"bolder",color:"#fff"}},tooltip:{show:!0},grid:{bottom:"10%"},series:[{type:"graph",layout:"force",force:{repulsion:[50,140],edgeLength:10},roam:!0,label:{normal:{show:!0}},data:n.value}]}));return(a,c)=>(g(),j(Y,{option:l.value,autoplay:!0},null,8,["option"]))}});const Ca=k(Sa,[["__scopeId","data-v-8bea827b"]]),wa={class:"right-content"},$a={class:"right-content__item"},Da={class:"right-content__item"},Ta={class:"right-content__item"},La=x({__name:"RightContent",setup(e){return(t,o)=>(g(),w("div",wa,[i("div",$a,[v(ba)]),i("div",Da,[v(uo)]),i("div",Ta,[v(Ca)])]))}});const ka=k(La,[["__scopeId","data-v-2123d611"]]),Fa={class:"digital-screen-container"},Ma={class:"header"},za={class:"section"},Na={class:"aside-lf"},ja={class:"container"},Aa={class:"center"},Ea={class:"aside-rt"},Oa={class:"container"},Ia=x({__name:"Index",setup(e){const{useScreen:t,useCommon:o}=F,{setScreenMode:s}=o(),n=p(!0),r=p({}),l=p({}),a=p([]),c=p(),_=b(()=>r.value.regions),u=b(()=>r.value.addNewOrder),m=b(()=>r.value.totalAmount),d=b(()=>r.value.completions),h=b(()=>r.value.unitUseOrder),S=b(()=>r.value.projectInfoList),$=b(()=>l.value.deviceLocationAndNumList),y=b(()=>l.value.typeNameAndNums),L=b(()=>l.value.unitDeviceInfo),E=b(()=>a.value);M("orderComplete",d),M("orderCarousel",h),M("projectList",S),M("orderCount",{regions:_,totalAmount:m,addNewOrder:u}),M("deviceCategories",y),M("deviceCompany",L),M("deviceMapCount",$),M("remandList",E);const H=async()=>{const A=await ro();r.value=A.data,n.value=!1},V=async()=>{const A=await lo();l.value=A.data},U=async()=>{const A=await io();a.value=A.data};H(),V(),U(),c.value=setInterval(()=>{U()},1e3*60*1);const Te=()=>{T.width=document.body.clientWidth,T.height=document.body.clientHeight;const W=T.height/P.height,A=T.width/P.width,q=T.width/T.height;console.log("screen-params",{"screen.width":T.width,"screen.height":T.height,"design.width":P.width,"design.height":P.height,swhr:q}),q>1&&(T.width>1200?q>=21/9?q>P.ratio?B.value=T.height<K.height?.56:W*1.2:B.value=T.width<K.width?.6:A*1.2:q>P.ratio?B.value=T.height<K.height?.56:W:B.value=T.width<K.width?.6:A:B.value=1),document.documentElement.style.fontSize=B.value*100+"px"},{design:P,screen:T,minScreen:K,contrastRatio:B}=t(Te);return s("AdptMultiDevice"),X(()=>{clearInterval(c.value)}),(W,A)=>(g(),w("div",Fa,[i("header",Ma,[v(Zt)]),i("section",za,[i("div",Na,[v(f(ce),null,{default:z(()=>[i("div",ja,[v(Lo)])]),_:1})]),i("div",Aa,[v(ya)]),i("div",Ea,[v(f(ce),null,{default:z(()=>[i("div",Oa,[v(ka)])]),_:1})])]),n.value?(g(),j(oo,{key:0})):R("",!0)]))}});const yn=k(Ia,[["__scopeId","data-v-2e29838c"]]);export{yn as default};
