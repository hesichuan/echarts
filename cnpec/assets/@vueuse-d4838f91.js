import{g as M,f as x,u as q,h as m,r as g,w as A,i as z,o as R}from"./@vue-c25b4755.js";function y(l){return M()?(x(l),!0):!1}function h(l){return typeof l=="function"?l():q(l)}const k=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const j=Object.prototype.toString,D=l=>j.call(l)==="[object Object]",O=()=>{};function F(l){var u;const e=h(l);return(u=e==null?void 0:e.$el)!=null?u:e}const W=k?window:void 0,L=k?window.document:void 0;function b(...l){let u,e,a,t;if(typeof l[0]=="string"||Array.isArray(l[0])?([e,a,t]=l,u=W):[u,e,a,t]=l,!u)return O;Array.isArray(e)||(e=[e]),Array.isArray(a)||(a=[a]);const r=[],v=()=>{r.forEach(s=>s()),r.length=0},i=(s,f,d,o)=>(s.addEventListener(f,d,o),()=>s.removeEventListener(f,d,o)),c=A(()=>[F(u),h(t)],([s,f])=>{if(v(),!s)return;const d=D(f)?{...f}:f;r.push(...e.flatMap(o=>a.map(w=>i(s,o,w,d))))},{immediate:!0,flush:"post"}),p=()=>{c(),v()};return y(p),p}function B(){const l=g(!1);return z()&&R(()=>{l.value=!0}),l}function G(l){const u=B();return m(()=>(u.value,!!l()))}const E=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function V(l,u={}){const{document:e=L,autoExit:a=!1}=u,t=m(()=>{var n;return(n=F(l))!=null?n:e==null?void 0:e.querySelector("html")}),r=g(!1),v=m(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(n=>e&&n in e||t.value&&n in t.value)),i=m(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(n=>e&&n in e||t.value&&n in t.value)),c=m(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(n=>e&&n in e||t.value&&n in t.value)),p=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(n=>e&&n in e),s=G(()=>t.value&&e&&v.value!==void 0&&i.value!==void 0&&c.value!==void 0),f=()=>p?(e==null?void 0:e[p])===t.value:!1,d=()=>{if(c.value){if(e&&e[c.value]!=null)return e[c.value];{const n=t.value;if((n==null?void 0:n[c.value])!=null)return!!n[c.value]}}return!1};async function o(){if(!(!s.value||!r.value)){if(i.value)if((e==null?void 0:e[i.value])!=null)await e[i.value]();else{const n=t.value;(n==null?void 0:n[i.value])!=null&&await n[i.value]()}r.value=!1}}async function w(){if(!s.value||r.value)return;d()&&await o();const n=t.value;v.value&&(n==null?void 0:n[v.value])!=null&&(await n[v.value](),r.value=!0)}async function C(){await(r.value?o():w())}const S=()=>{const n=d();(!n||n&&f())&&(r.value=n)};return b(e,E,S,!1),b(()=>F(t),E,S,!1),a&&y(o),{isSupported:s,isFullscreen:r,enter:w,exit:o,toggle:C}}export{V as u};
